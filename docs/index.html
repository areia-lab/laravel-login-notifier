<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Areia Lab — Laravel Login Notifier</title>
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap"
      rel="stylesheet"
    />
    <style>
      :root {
        --bg-primary: #0f1724;
        --bg-secondary: #0b1220;
        --bg-tertiary: #071226;
        --bg-gradient: linear-gradient(180deg, #081026 0%, #021026 100%);
        --text-primary: #e6eef8;
        --text-secondary: #94a3b8;
        --text-accent: #cfe8ff;
        --accent-primary: #7c3aed;
        --accent-secondary: #5b21b6;
        --accent-gradient: linear-gradient(
          90deg,
          var(--accent-primary),
          var(--accent-secondary)
        );
        --border-color: rgba(255, 255, 255, 0.05);
        --card-shadow: 0 10px 40px rgba(2, 6, 23, 0.7);
        --success: #10b981;
      }

      * {
        box-sizing: border-box;
        margin: 0;
        padding: 0;
      }

      body {
        font-family: "Inter", -apple-system, BlinkMacSystemFont, "Segoe UI",
          Roboto, "Helvetica Neue", Arial, sans-serif;
        line-height: 1.6;
        background: var(--bg-gradient);
        color: var(--text-primary);
        min-height: 100vh;
        padding: 20px;
      }

      .container {
        max-width: 1200px;
        margin: 0 auto;
      }

      .documentation-card {
        background: rgba(255, 255, 255, 0.03);
        border-radius: 16px;
        box-shadow: var(--card-shadow);
        overflow: hidden;
        margin: 40px 0;
      }

      .header {
        padding: 32px 32px 24px;
        border-bottom: 1px solid var(--border-color);
        background: rgba(11, 18, 32, 0.5);
      }

      .header h1 {
        font-size: 32px;
        font-weight: 700;
        margin-bottom: 8px;
        background: var(--accent-gradient);
        -webkit-background-clip: text;
        -webkit-text-fill-color: transparent;
        background-clip: text;
      }

      .header .lead {
        color: var(--text-secondary);
        font-size: 18px;
        font-weight: 400;
        line-height: 1.5;
      }

      .header .lead code {
        background: rgba(124, 58, 237, 0.15);
        color: var(--text-primary);
        padding: 2px 8px;
        border-radius: 6px;
        font-size: 0.9em;
      }

      .grid {
        display: grid;
        grid-template-columns: 1fr 320px;
        gap: 0;
      }

      .main-content {
        padding: 32px;
      }

      .sidebar {
        background: rgba(11, 18, 32, 0.6);
        padding: 24px;
        border-left: 1px solid var(--border-color);
        height: 100%;
      }

      section {
        margin-bottom: 40px;
      }

      h2 {
        font-size: 24px;
        font-weight: 600;
        margin-bottom: 16px;
        color: var(--text-primary);
        padding-bottom: 8px;
        border-bottom: 1px solid var(--border-color);
      }

      h3 {
        font-size: 20px;
        font-weight: 500;
        margin: 24px 0 16px;
        color: var(--text-primary);
      }

      h4 {
        font-size: 16px;
        font-weight: 500;
        margin: 20px 0 12px;
        color: var(--text-secondary);
      }

      p {
        margin-bottom: 16px;
        color: var(--text-secondary);
        line-height: 1.6;
      }

      ul,
      ol {
        margin: 0 0 20px 20px;
        color: var(--text-secondary);
      }

      li {
        margin-bottom: 8px;
        line-height: 1.5;
      }

      pre {
        background: var(--bg-tertiary);
        padding: 18px;
        border-radius: 10px;
        overflow: auto;
        color: var(--text-accent);
        margin: 16px 0;
        border: 1px solid var(--border-color);
        font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, "Roboto Mono",
          monospace;
        font-size: 14px;
        line-height: 1.5;
      }

      code {
        font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, "Roboto Mono",
          monospace;
        background: rgba(124, 58, 237, 0.15);
        color: var(--text-primary);
        padding: 2px 6px;
        border-radius: 4px;
        font-size: 0.9em;
      }

      pre code {
        background: transparent;
        padding: 0;
        color: inherit;
      }

      .note {
        background: rgba(124, 58, 237, 0.08);
        border-left: 4px solid var(--accent-primary);
        padding: 16px;
        border-radius: 8px;
        color: var(--text-primary);
        margin: 16px 0;
      }

      .note strong {
        color: var(--accent-primary);
      }

      table {
        width: 100%;
        border-collapse: collapse;
        margin: 16px 0 24px;
        border: 1px solid var(--border-color);
        border-radius: 8px;
        overflow: hidden;
      }

      thead {
        background: rgba(124, 58, 237, 0.1);
      }

      th {
        text-align: left;
        padding: 14px 16px;
        font-weight: 500;
        color: var(--text-primary);
        border-bottom: 1px solid var(--border-color);
      }

      td {
        padding: 12px 16px;
        border-bottom: 1px solid var(--border-color);
        color: var(--text-secondary);
      }

      tr:last-child td {
        border-bottom: none;
      }

      .btn {
        display: block;
        padding: 10px 16px;
        border-radius: 8px;
        background: var(--accent-gradient);
        color: white;
        text-decoration: none;
        font-weight: 500;
        margin-bottom: 12px;
        transition: all 0.2s ease;
        text-align: center;
      }

      .btn:hover {
        transform: translateY(-2px);
        box-shadow: 0 4px 12px rgba(124, 58, 237, 0.3);
      }

      .sidebar-section {
        margin-bottom: 24px;
      }

      .sidebar-section h3 {
        font-size: 18px;
        margin-bottom: 16px;
        color: var(--accent-primary);
      }

      .sidebar-pre {
        background: var(--bg-tertiary);
        padding: 12px;
        border-radius: 8px;
        overflow: auto;
        color: var(--text-accent);
        font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, "Roboto Mono",
          monospace;
        font-size: 13px;
        line-height: 1.4;
        margin: 12px 0;
        border: 1px solid var(--border-color);
      }

      footer {
        color: var(--text-secondary);
        font-size: 14px;
        text-align: center;
        padding: 24px;
        border-top: 1px solid var(--border-color);
        margin-top: 20px;
      }

      .badge {
        display: inline-block;
        padding: 4px 8px;
        border-radius: 4px;
        font-size: 12px;
        font-weight: 500;
        margin-right: 8px;
      }

      .badge-primary {
        background: var(--accent-gradient);
        color: white;
      }

      .badge-secondary {
        background: rgba(124, 58, 237, 0.15);
        color: var(--accent-primary);
      }

      @media (max-width: 968px) {
        .grid {
          grid-template-columns: 1fr;
        }

        .sidebar {
          border-left: none;
          border-top: 1px solid var(--border-color);
          order: 2;
        }

        .main-content {
          order: 1;
        }
      }

      @media (max-width: 640px) {
        body {
          padding: 10px;
        }

        .header,
        .main-content,
        .sidebar {
          padding: 20px;
        }

        .header h1 {
          font-size: 28px;
        }
      }

      .feature-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
        gap: 20px;
        margin: 20px 0;
      }

      .feature-card {
        background: rgba(11, 18, 32, 0.4);
        border-radius: 10px;
        padding: 20px;
        border: 1px solid var(--border-color);
      }

      .feature-card h4 {
        color: var(--accent-primary);
        margin-top: 0;
        margin-bottom: 12px;
        font-size: 16px;
      }

      .feature-card p {
        margin-bottom: 0;
        font-size: 14px;
      }
    </style>
  </head>

  <body>
    <div class="container">
      <div class="documentation-card">
        <header class="header">
          <h1>Areia Lab — Laravel Login Notifier</h1>
          <p class="lead">
            Package: <code>areia-lab/laravel-login-notifier</code> — Notify
            users & admins when a login occurs from a
            <strong>new device or IP</strong>. Logs device, browser, platform,
            IP, and optional geo-location.
          </p>
        </header>

        <div class="grid">
          <main class="main-content">
            <section id="quick-install">
              <h2>Quick Install</h2>
              <p>Install the package via Composer:</p>
              <pre><code>composer require areia-lab/laravel-login-notifier

# Publish configuration and migration files
php artisan vendor:publish --tag=login-notifier-config
php artisan vendor:publish --tag=login-notifier-migrations

# Run migrations
php artisan migrate</code></pre>
              <div class="note">
                <strong>Note:</strong> Geo-location support is optional. See
                <em>Optional features</em> below.
              </div>
            </section>

            <section id="overview">
              <h2>Overview</h2>
              <p>
                The Laravel Login Notifier package provides comprehensive login
                monitoring and notification capabilities for your application.
              </p>

              <div class="feature-grid">
                <div class="feature-card">
                  <h4>Device Detection</h4>
                  <p>
                    Captures IP, device, platform, and browser using
                    <code>jenssegers/agent</code>.
                  </p>
                </div>
                <div class="feature-card">
                  <h4>Geo-Location</h4>
                  <p>
                    Optionally resolves geographic location from IP addresses
                    with <code>stevebauman/location</code>.
                  </p>
                </div>
                <div class="feature-card">
                  <h4>Login History</h4>
                  <p>
                    Stores comprehensive login records in the
                    <code>login_histories</code> table.
                  </p>
                </div>
                <div class="feature-card">
                  <h4>Smart Notifications</h4>
                  <p>
                    Sends alerts only when logins occur from new devices or IP
                    addresses.
                  </p>
                </div>
              </div>
            </section>

            <section id="configuration">
              <h2>Configuration</h2>
              <p>
                After publishing the configuration file, you can customize the
                package behavior:
              </p>
              <pre><code>return [
    'notify_user' => env('LOGIN_NOTIFIER_NOTIFY_USER', true),

    // Email address to receive admin notifications
    'notify_admin' => env('LOGIN_NOTIFIER_NOTIFY_ADMIN', true),
    'admin_email' => env('LOGIN_NOTIFIER_ADMIN_EMAIL', 'admin@example.com'),
                
    'secure_url' => env('LOGIN_NOTIFIER_SECURE_URL', 'forgot-password'),
];</code></pre>
              <p>
                Toggle notifications by setting the appropriate environment
                variables or modifying the config file directly.
              </p>
            </section>

            <section id="notifications">
              <h2>Notifications</h2>
              <p>The package includes two notification types:</p>
              <ul>
                <li>
                  <code>UserLoginAlert</code> — informs the user about a new
                  device/IP login.
                </li>
                <li>
                  <code>AdminLoginAlert</code> — summary email to admin email.
                </li>
              </ul>
              <p>
                Both notifications are queueable for better performance in
                production environments.
              </p>
            </section>

            <section id="dependencies">
              <h2>Package Dependencies</h2>
              <p>
                These dependencies are automatically installed but can be
                managed manually if needed:
              </p>
              <table>
                <thead>
                  <tr>
                    <th>Package</th>
                    <th>Purpose</th>
                    <th>Install Command</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td><code>jenssegers/agent</code></td>
                    <td>Detect device/platform/browser</td>
                    <td><code>composer require jenssegers/agent</code></td>
                  </tr>
                  <tr>
                    <td><code>stevebauman/location</code></td>
                    <td>Resolve geo-location from IP (optional)</td>
                    <td><code>composer require stevebauman/location</code></td>
                  </tr>
                </tbody>
              </table>
            </section>

            <section id="features">
              <h2>Features</h2>
              <ul>
                <li>
                  Facade: <code>LoginHistory</code> for fetching all, recent, or
                  user-specific login histories.
                </li>
                <li>
                  Custom events: Dispatch
                  <code>UserLoggedInDifferentDevice</code> after login history
                  creation.
                </li>
                <li>
                  Queueable notifications for production-ready email sending.
                </li>
                <li>
                  Secure account link <code>secure_url</code> for user to reset
                  password if suspicious activity is detected.
                </li>
                <li>
                  Optional multiple channels (SMS, Slack) via Laravel
                  Notification channels.
                </li>
              </ul>
            </section>

            <section id="usage">
              <h2>Usage Examples</h2>
              <p>Access login histories using the provided facade:</p>
              <pre><code>use AreiaLab\LoginNotifier\Facades\LoginHistory;

// Get all login histories
$all = LoginHistory::getAllHistories();
                
// Get recent 10 logins
$recent = LoginHistory::getRecentHistories(10);
                
// Get all logins for a specific user
$userLogins = LoginHistory::getUserHistories($userId);
                
// Get last login of a user
$lastLogin = LoginHistory::getLastLoginForUser($userId);
                
// Get logins from new devices for a user
$newDeviceLogins = LoginHistory::getNewDeviceLoginsForUser($userId);</code></pre>
            </section>

            <section id="troubleshooting">
              <h2>Testing & Troubleshooting</h2>
              <ul>
                <li>
                  Ensure mail is configured properly to send notifications.
                </li>
                <li>Mock geo-location for consistent test results.</li>
                <li>
                  Listener must be registered; clear cache if it doesn't fire:
                  <code>php artisan event:clear</code>
                </li>
                <li>Check that the migrations have run successfully.</li>
                <li>Verify that the package service provider is registered.</li>
              </ul>
            </section>

            <footer>
              <p>Made with ❤️ by Areia Lab — MIT License</p>
            </footer>
          </main>

          <aside class="sidebar">
            <div class="sidebar-section">
              <h3>Quick Navigation</h3>
              <a href="#quick-install" class="btn">Installation Guide</a>
              <a href="#overview" class="btn">Package Overview</a>
              <a href="#configuration" class="btn">Configuration</a>
              <a href="#notifications" class="btn">Notifications</a>
              <a href="#dependencies" class="btn">Dependencies</a>
              <a href="#features" class="btn">Features</a>
              <a href="#usage" class="btn">Usage Examples</a>
              <a href="#troubleshooting" class="btn">Troubleshooting</a>
            </div>

            <div class="sidebar-section">
              <h3>Configuration Example</h3>
              <div class="sidebar-pre">
                notify_user: true notify_admin: true admin_email:
                admin@example.com secure_url: forgot-password
              </div>
            </div>

            <div class="sidebar-section">
              <h3>Support</h3>
              <p>
                Open an issue on GitHub or contact the package author for
                assistance with implementation or troubleshooting.
              </p>
              <div class="note">
                <strong>Pro Tip:</strong> For production use, ensure your queue
                worker is running to process notifications.
              </div>
            </div>

            <div class="sidebar-section">
              <h3>Version Info</h3>
              <p>
                <span class="badge badge-primary">v1.0.0</span>
                <span class="badge badge-secondary">Laravel 8+</span>
              </p>
              <p>Requires PHP 7.4 or higher</p>
            </div>
          </aside>
        </div>
      </div>
    </div>
  </body>
</html>
